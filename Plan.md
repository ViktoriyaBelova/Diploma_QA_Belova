# План автоматизации тестирования комплексного сервиса покупки туров

## Валидными данными при заполнении полей следует считать:

    1. Номер карты: 
    4444 4444 4444 4441 - валидный номер карты с одобрением Approver; 
    4444 4444 4444 4442 - валидный номер карты с отказом Declined.
    2. Месяц: число от 01 до 12
    3. Год: две последние цифры текущего или последующих годов, но не более 5 лет от текущего года
    4. Владелец: Фамилия и Имя на латинице через пробел
    5. СVC/CVV: три цифры
    
## Невалидные данные:
Под невалидными данными будем подразумевать те символы, которые не должны находится в полях:

 - В поле "Номер карты" не должно быть ничего кроме цифр;
 - В поле срока действия карты должны быть только цифры;
 - Поле "Владелец" должно принимать только буквы;
 - CVC-код состоит только из цифр, другие символы запрещены к вводу.

## Перечень автоматизируемых сценариев:
### Примечание:
- страница покупки тура **доступна только при запущенной SUT**.
# UI тесты
---

**1. При нажатии на кнопку купить открывается анкета "Оплата по карте"**

*Шаги:*

    1. Перейти по адресу "localhost:8080"
    2. Нажать кнопку "Купить"

*Ожидаемый результат:* появляется анкета для заполнения данных карты, заголовок "Оплата по карте".

**2. При нажатии на кнопку Купить в кредит открывается анкета "Кредит по данным карты"**

*Шаги:*

    1. Перейти по адресу "localhost:8080"
    2. Нажать кнопку "Купить"

*Ожидаемый результат:* появляется анкета для заполнения данных карты, заголовок "Кредит по данным карты"
.
**3. Заявка "Оплата по карте", заполненная валидными данными карты со статусом *Approved* одобрена банком**

*Шаги:*

    1. Перейти по адресу "localhost:8080"
    2. Нажать кнопку "Купить"
    3. Ввести валидные данные во все поля, использовать карту Approved
    4. Нажать кнопку "Продолжить"

*Ожидаемый результат:* сообщение "Успешно. Операция одобрена банком."

**4. Заявка "Оплата по карте", заполненная валидными данными карты со статусом *Declined* отклонена банком**

*Шаги:*

    1. Перейти по адресу "localhost:8080"
    2. Нажать кнопку "Купить"
    3. Ввести валидные данные во все поля, использовать карту Declined
    4. Нажать кнопку "Продолжить"

*Ожидаемый результат:* сообщение "Ошибка! Банк отказал в проведении операции!"

**5. Заявка "Оплата по карте", все поля пустые**

*Шаги:*

    1. Перейти по адресу "localhost:8080"
    2. Нажать кнопку "Купить"
    3. Оставить все поля формы пустыми
    8. Нажать кнопку "Продолжить"

*Ожидаемый результат:* отправка формы невозможна, предупреждение "Поле обязательно для заполнения" под всеми полями

**6. Заявка "Оплата по карте", значение поля "Номер карты" пустое, все остальные поля формы валидные**

*Шаги:*

    1. В браузере перейти по адресу localhost:8080
    2. Нажать кнопку "Купить"
    3. В поле "Номер карты" ввести: " "
    4. Заполнить поля валидными данными
    5. Нажать кнопку "Продолжить"

*Ожидаемый результат:* отправка формы невозможна, предупреждение "Поле обязательно для заполнения" под полем "Номер карты"

**7. Заявка "Оплата по карте", значение поля "Месяц" пустое, все остальные поля формы валидные**

*Шаги:*

    1. В браузере перейти по адресу localhost:8080
    2. Нажать кнопку "Купить"
    3. Поле месяц оставить пустым
    4. Заполнить остальные поля валидными данными
    5. Нажать кнопку "Продолжить"

*Ожидаемый результат:* отправка формы невозможна, предупреждение "Поле обязательно для заполнения" под полем "Месяц"

**8. Заявка "Оплата по карте", значение поля "Месяц" больше "12"**

*Шаги:*

    1. В браузере перейти по адресу localhost:8080
    2. Нажать кнопку "Купить"
    3. Заполнить поля валидными данными
    4. В поле "Месяц" ввести: 13
    5. Нажать кнопку "Продолжить"

*Ожидаемый результат:* отправка формы невозможна, предупреждение "Неверно указан срок действия карты" под полем "Месяц"

**7. Заявка "Оплата по карте", значение поля "Месяц" меньше "01"**

*Шаги:*

    1. В браузере перейти по адресу localhost:8080
    2. Нажать кнопку "Купить"
    3. Заполнить поля валидными данными
    4. В поле "Месяц" ввести: 00
    8. Нажать кнопку "Продолжить"

*Ожидаемый результат:* отправка формы невозможна, предупреждение "Неверно указан срок действия карты" под полем "Месяц"

**8. Заявка "Оплата по карте", значение поля "Год" пустое**

*Шаги:*

    1. В браузере перейти по адресу localhost:8080
    2. Нажать кнопку "Купить"
    3. Заполнить поля валидными данными
    4. Поле Год оставить пустым
    5. Нажать кнопку "Продолжить"

*Ожидаемый результат:* отправка формы невозможна, предупреждение «Поле обязательно для заполнения» под полем "Год"

**9. Заявка "Оплата по карте", значение поля "Год" прошлого периода**

*Шаги:*

    1. В браузере перейти по адресу localhost:8080
    2. Нажать кнопку "Купить"
    3. Заполнить поля валидными данными
    4. В поле "Год" ввести: 23
    5. Нажать кнопку "Продолжить"

*Ожидаемый результат:* отправка формы невозможна, предупреждение "Истек срок действия карты" под полем "Год"

**10. Заявка "Оплата по карте", значение поля "CVC/CVV" пусто**

*Шаги:*

    1. В браузере перейти по адресу localhost:8080
    2. Нажать кнопку "Купить"
    3. Заполнить поля валидными данными
    4. Поле "CVC/CVV" оставить пустым
    5. Нажать кнопку "Продолжить"

*Ожидаемый результат:* отправка формы невозможна, предупреждение "Поле обязательно для заполнения" под полем "CVC/CVV"

**11. Заявка "Оплата по карте", значение поля "Владелец" через дефис**

*Шаги:*

    1. В браузере перейти по адресу localhost:8080
    2. Нажать кнопку "Купить"
    3. Заполнить поля валидными данными
    4. В поле "Владелец" ввести: "Petrova Anna-Maria"
    5. Нажать кнопку "Продолжить"

*Ожидаемый результат:* форма отправилась успешно, всплывающее сообщение "Успешно. Операция одобрена банком!"

**12. Заявка "Оплата по карте", значение поля "Владелец" пустое**

*Шаги:*

    1. В браузере перейти по адресу localhost:8080
    2. Нажать кнопку "Купить"
    3. Заполнить поля валидными данными
    4. В поле "Владелец" ввести: " "
    5. Нажать кнопку "Продолжить"

*Ожидаемый результат:* отправка формы невозможна, предупреждение "Поле обязательно для заполнения" под полем "Владелец"

**13. Заявка "Оплата по карте", значение поля "Владелец" фамилия и имя на кирилице**

*Шаги:*

    1. В браузере перейти по адресу localhost:8080
    2. Нажать кнопку "Купить"
    3. Заполнить поля валидными данными
    4. В поле "Владелец" ввести: Никита Ярыч
    5. Нажать кнопку "Продолжить"

*Ожидаемый результат:* отправка формы невозможна, предупреждение "Неверный формат" под полем "Владелец"

**14. Заявка "Оплата по карте", значение поля "Владелец" заполнено буквами и цифрами**

*Шаги:*

    1. В браузере перейти по адресу localhost:8080
    2. Нажать кнопку "Купить"
    3. Заполнить поля валидными данными
    4. В поле "Владелец" ввести: Nikita9524
    5. Нажать кнопку "Продолжить"

*Ожидаемый результат:* отправка формы невозможна, предупреждение "Неверный формат" под полем "Владелец"

**15. Заявка "Оплата по карте", значение поля "Владелец" заполнено спец.символами**

*Шаги:*

    1. В браузере перейти по адресу localhost:8080
    2. Нажать кнопку "Купить"
    3. Заполнить поля валидными данными
    4. В поле "Владелец" ввести: |/''#$%^&*(@#!_)(+=*
    5. Нажать кнопку "Продолжить"

*Ожидаемый результат:* отправка формы невозможна, предупреждение "Неверный формат" под полем "Владелец"

ВСЕ ВЫШЕУКАЗАННЫЕ ТЕСТЫ ТАКЖЕ ПРОВЕСТИ НА ФУНКЦИОНАЛЕ "ОПЛАТА В КРЕДИТ"

# API тесты
---
## Post запросы (через Postman):

    - Отправка валидных данных действующей карты 4444 4444 4444 4441 (approved) на URL-адрес http://localhost:9999/payment
    Ожидаемый результат: ответ сервера: код 200

    - Отправка валидных данных недействующей карты 4444 4444 4444 4442 (declined) на URL-адрес http://localhost:9999/payment
    Ожидаемый результат: ответ сервера: код 200

    - Отправка валидных данных действующей карты 4444 4444 4444 4441 (approved) на URL-адрес http://localhost:9999/credit
    Ожидаемый результат: ответ сервера: код 200

    - Отправка валидных данных недействующей карты 4444 4444 4444 4442 (declined) на URL-адрес http://localhost:9999/credit
    Ожидаемый результат: ответ сервера: код 200

## Перечень используемых инструментов с обоснованием выбора:
 - JUnit 5 - Наиболее широко используемая среда тестирования для приложений Java;
 - Docker - Запуск необходимых приложений из контейнера без необходимости их установки на ОС;
 - Selenide - фреймворк для автоматизированного тестирования WEB-приложений на основе Selenium. Более удобный в использовании чем Selenium;
 - GitHub - крупнейший и бесплатный хостинг IT-проектов с возможностью без дополнительной платы внедрить CI.
 - GIT - это система контроля версий (VCS), которая позволяет отслеживать и фиксировать изменения в коде.
 - Gradle - система для автоматизации сборки приложений и сбора статистики об использовании программных библиотек, применяющая языки Groovy, Java, JavaScript, Kotlin и т. д.
 - IntelliJ IDEA - интегрированная среда разработки программного обеспечения для многих языков программирования, в частности Java, JavaScript, Python.
 - Lombok — это библиотека для сокращения кода в классах и расширения функциональности языка Java(перестать писать огромные простыни кода из гетеров, сеттеров, equals, hashcode и т.д).
 - Allure - фреймворк, предназначенный для создания визуально наглядной картины выполнения тестов.

## Перечень и описание возможных рисков при автоматизации:

- Заявлена поддержка двух СУБД (MySQL и PostgreSQL)
- Неверный выбор инструментов для тестирования
- Неверная оценка трудозатрат
- При использовании какого-то инструмента с плохо изученным функционалом можно потерять значительное количество времени на изучение.
- Отсутствие документации на приложение
- Отсутствие проверки графической составляющей авто-тестами

## Интервальная оценка с учётом рисков (в часах):
- С учётом вышеназванных рисков на автоматизацию требуется ориентировочно, 80 рабочих часов

## План сдачи работ:

- [ ] Подготовка к проведению тестирования (запуск SUT, подготовка плана автоматизации) - 24 часов
- [ ] Написание и прогон авто-тестов - 40 часов;
- [ ] Составление ```Issue``` - 6 часов;
- [ ] Оформление отчёта по итогам тестирования - 5 часов;
- [ ] Оформление отчёта по итогам автоматизации - 5 часов.
